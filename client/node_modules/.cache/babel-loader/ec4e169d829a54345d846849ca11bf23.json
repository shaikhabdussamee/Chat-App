{"ast":null,"code":"import _toConsumableArray from\"C:/Users/shaik/Desktop/Chat app/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/shaik/Desktop/Chat app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shaik/Desktop/Chat app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shaik/Desktop/Chat app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Chat(_ref){var socket=_ref.socket,username=_ref.username,room=_ref.room;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentMessage=_useState2[0],setcurrentMessage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),messageList=_useState4[0],setMessageList=_useState4[1];var sendMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var messageData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(currentMessage!==\"\")){_context.next=4;break;}messageData={room:room,Author:username,message:currentMessage,time:new Date(Date.now()).getHours()+\":\"+new Date(Date.now()).getMinutes()};_context.next=4;return socket.emit(\"send_message\",messageData);case 4:case\"end\":return _context.stop();}}},_callee);}));return function sendMessage(){return _ref2.apply(this,arguments);};}();useEffect(function(){socket.on(\"recieve_message\",function(data){setMessageList(function(list){return[].concat(_toConsumableArray(list),[data]);});});},[socket]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-header\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Live Chats\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-body\",children:messageList.map(function(messageContent){return/*#__PURE__*/_jsx(\"h1\",{children:messageContent.message});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-footer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Heyy...\",onChange:function onChange(event){setcurrentMessage(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"\\u25BA\"})]})]});}export default Chat;","map":{"version":3,"names":["React","useEffect","useState","Chat","socket","username","room","currentMessage","setcurrentMessage","messageList","setMessageList","sendMessage","messageData","Author","message","time","Date","now","getHours","getMinutes","emit","on","data","list","map","messageContent","event","target","value"],"sources":["C:/Users/shaik/Desktop/Chat app/client/src/Chat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nfunction Chat({socket,username,room}) {\r\n    const [currentMessage, setcurrentMessage] = useState(\"\");\r\n    const [messageList,setMessageList] = useState([]);\r\n\r\n    const sendMessage = async() => {\r\n        if(currentMessage !==\"\"){\r\n            const messageData = {\r\n                room: room,\r\n                Author: username,\r\n                message: currentMessage,\r\n                time:new Date(Date.now()).getHours() + \r\n                \":\" +\r\n                new Date(Date.now()).getMinutes(),\r\n            };\r\n            await socket.emit(\"send_message\", messageData);\r\n        }        \r\n    };\r\n\r\n    useEffect(() =>{\r\n        socket.on(\"recieve_message\", (data) => {\r\n            setMessageList((list) => [...list, data]);\r\n        });\r\n\r\n    },[socket])\r\n\r\n  return (\r\n    <div className=\"chat-window\">\r\n    <div className=\"chat-header\">\r\n    <p>Live Chats</p>\r\n     </div>\r\n        <div className='chat-body'>\r\n            {messageList.map((messageContent) => {\r\n                return <h1>{messageContent.message}</h1>;\r\n            })}\r\n        </div>\r\n        <div className='chat-footer'>\r\n        <input type=\"text\" placeholder = \"Heyy...\"\r\n        onChange={(event) => {\r\n            setcurrentMessage(event.target.value);\r\n        }}\r\n    />\r\n        <button onClick={sendMessage}>&#9658;</button>    \r\n        </div>    \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat"],"mappings":"wgBAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,C,wFAEA,QAASC,KAAT,MAAsC,IAAvBC,OAAuB,MAAvBA,MAAuB,CAAhBC,QAAgB,MAAhBA,QAAgB,CAAPC,IAAO,MAAPA,IAAO,CAClC,cAA4CJ,QAAQ,CAAC,EAAD,CAApD,wCAAOK,cAAP,eAAuBC,iBAAvB,eACA,eAAqCN,QAAQ,CAAC,EAAD,CAA7C,yCAAOO,WAAP,eAAmBC,cAAnB,eAEA,GAAMC,YAAW,6FAAG,0JACbJ,cAAc,GAAI,EADL,0BAENK,WAFM,CAEQ,CAChBN,IAAI,CAAEA,IADU,CAEhBO,MAAM,CAAER,QAFQ,CAGhBS,OAAO,CAAEP,cAHO,CAIhBQ,IAAI,CAAC,GAAIC,KAAJ,CAASA,IAAI,CAACC,GAAL,EAAT,EAAqBC,QAArB,GACL,GADK,CAEL,GAAIF,KAAJ,CAASA,IAAI,CAACC,GAAL,EAAT,EAAqBE,UAArB,EANgB,CAFR,uBAUNf,OAAM,CAACgB,IAAP,CAAY,cAAZ,CAA4BR,WAA5B,CAVM,uDAAH,kBAAXD,YAAW,2CAAjB,CAcAV,SAAS,CAAC,UAAK,CACXG,MAAM,CAACiB,EAAP,CAAU,iBAAV,CAA6B,SAACC,IAAD,CAAU,CACnCZ,cAAc,CAAC,SAACa,IAAD,qCAAcA,IAAd,GAAoBD,IAApB,IAAD,CAAd,CACH,CAFD,EAIH,CALQ,CAKP,CAAClB,MAAD,CALO,CAAT,CAOF,mBACE,aAAK,SAAS,CAAC,aAAf,wBACA,YAAK,SAAS,CAAC,aAAf,uBACA,iCADA,EADA,cAII,YAAK,SAAS,CAAC,WAAf,UACKK,WAAW,CAACe,GAAZ,CAAgB,SAACC,cAAD,CAAoB,CACjC,mBAAO,oBAAKA,cAAc,CAACX,OAApB,EAAP,CACH,CAFA,CADL,EAJJ,cASI,aAAK,SAAS,CAAC,aAAf,wBACA,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAG,SAAjC,CACA,QAAQ,CAAE,kBAACY,KAAD,CAAW,CACjBlB,iBAAiB,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAjB,CACH,CAHD,EADA,cAMA,eAAQ,OAAO,CAAEjB,WAAjB,oBANA,GATJ,GADF,CAoBD,CAED,cAAeR,KAAf"},"metadata":{},"sourceType":"module"}